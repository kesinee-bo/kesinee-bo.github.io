<!DOCTYPE html>
<html lang="th" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>วิเคราะห์เพลง Let Her Go - Passenger</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Warm Neutrals with Muted Teal Accent -->
    <!-- Application Structure Plan: A single-page application with a sticky top navigation bar allowing users to smoothly scroll to different thematic sections: 1) Introduction, 2) Lyrical Deep Dive (with interactive flip cards for vocabulary and phrasal verbs), 3) Themes & Emotions (using visual layouts to show contrasts), and 4) an interactive Quiz. This structure breaks down the dense report into digestible, engaging chunks, prioritizing user exploration over the linear format of the source document. -->
    <!-- Visualization & Content Choices: Report Info: Vocabulary, tenses, phrasal verbs -> Goal: Inform -> Presentation: Interactive flip cards and structured text -> Interaction: Click-to-reveal -> Justification: More engaging than static tables. Report Info: Contrasting concepts (sun/snow, high/low) -> Goal: Compare -> Presentation: Side-by-side grid layout -> Interaction: Static visual comparison -> Justification: Clearly illustrates the lyrical juxtapositions. Report Info: Quiz questions -> Goal: Test Knowledge -> Presentation: HTML form elements (radio/text inputs) -> Interaction: User input and a "Check Answers" button with immediate feedback -> Justification: Creates a functional, self-assessment tool. No charts (Chart.js/Plotly) are used as the source report is qualitative. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Kanit', sans-serif;
            background-color: #fdfaf6;
        }
        .card-container {
            perspective: 1000px;
        }
        .card {
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
        }
        .card.is-flipped {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            border-radius: 0.75rem;
        }
        .card-front {
            background-color: #ffffff;
            border: 1px solid #e5e7eb;
        }
        .card-back {
            background-color: #0d9488; /* teal-600 */
            color: white;
            transform: rotateY(180deg);
        }
        .correct-answer {
            background-color: #dcfce7 !important; /* green-100 */
        }
        .incorrect-answer {
            background-color: #fee2e2 !important; /* red-100 */
        }
        .correct-choice::after {
            content: ' ✔️ ถูกต้อง';
            color: #16a34a; /* green-600 */
            font-weight: 600;
        }
        .incorrect-choice::after {
            content: ' ❌ ไม่ถูกต้อง';
            color: #dc2626; /* red-600 */
            font-weight: 600;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header -->
    <header class="bg-amber-100 text-center py-12 px-4 shadow-md">
        <h1 class="text-4xl md:text-5xl font-bold text-teal-800">Let Her Go</h1>
        <p class="text-xl md:text-2xl text-teal-700 mt-2">โดย Passenger</p>
        <p class="max-w-3xl mx-auto mt-4 text-gray-700">
            สำรวจความหมายที่ซ่อนอยู่เบื้องหลังบทเพลงแห่งการสูญเสียและการตระหนักรู้ที่สายเกินไป ผ่านการวิเคราะห์ภาษาและอารมณ์อย่างลึกซึ้ง
        </p>
    </header>

    <!-- Sticky Navigation -->
    <nav class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-center space-x-4 md:space-x-8 py-3">
                <a href="#intro" class="text-gray-600 hover:text-teal-600 font-medium transition duration-300">บทนำ</a>
                <a href="#lyrics" class="text-gray-600 hover:text-teal-600 font-medium transition duration-300">เจาะลึกเนื้อเพลง</a>
                <a href="#themes" class="text-gray-600 hover:text-teal-600 font-medium transition duration-300">แก่นเรื่องและอารมณ์</a>
                <a href="#quiz" class="text-gray-600 hover:text-teal-600 font-medium transition duration-300">ทดสอบความเข้าใจ</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto p-4 md:p-8">

        <!-- Section 1: Introduction -->
        <section id="intro" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-teal-700 mb-6 border-b-2 border-amber-300 pb-2">บทนำ: สู่ความหมายของ "Let Her Go"</h2>
            <div class="space-y-4 text-lg leading-relaxed text-gray-700">
                <p>เพลง "Let Her Go" ขับร้องและแต่งโดย Michael David Rosenberg หรือที่รู้จักกันในนาม Passenger ศิลปินโฟล์คป๊อปชาวอังกฤษ เปิดตัวในปี 2012 และกลายเป็นเพลงฮิตระดับนานาชาติที่สร้างชื่อเสียงให้เขาในวงกว้าง ด้วยท่วงทำนองที่โดดเด่นและเนื้อเพลงที่บาดลึก เพลงนี้สื่อสารแก่นเรื่องสำคัญเกี่ยวกับการเห็นคุณค่าของสิ่งต่างๆ ก็ต่อเมื่อสูญเสียไปแล้ว</p>
                <p>"Let Her Go" ได้รับความนิยมอย่างล้นหลามเพราะสามารถเชื่อมโยงกับผู้ฟังในระดับอารมณ์ได้อย่างลึกซึ้ง เพลงนี้อธิบายความรู้สึกเสียใจหลังจากการสูญเสียสิ่งที่คุณเคยมองข้ามไปได้อย่างยอดเยี่ยม และยังทำหน้าที่เตือนใจให้ผู้ฟังรู้สึกขอบคุณในสิ่งที่เรามีก่อนที่มันจะจากไป</p>
            </div>
        </section>

        <!-- Section 2: Lyrical Deep Dive -->
        <section id="lyrics" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-teal-700 mb-6 border-b-2 border-amber-300 pb-2">เจาะลึกเนื้อเพลง</h2>
            <p class="text-lg text-gray-700 mb-8">
                ส่วนนี้จะพาคุณไปสำรวจองค์ประกอบทางภาษาที่น่าสนใจในเพลง ตั้งแต่คำศัพท์ สำนวน ไปจนถึงการใช้ Tenses และกริยาวลี (Phrasal Verbs) ที่ทำให้เพลงนี้มีความหมายลึกซึ้งและทรงพลัง
            </p>

            <!-- Vocabulary -->
            <h3 class="text-2xl font-semibold text-teal-600 mb-4">คำศัพท์และสำนวนที่น่าสนใจ</h3>
            <p class="text-gray-600 mb-6">คลิกที่การ์ดเพื่อดูความหมายและตัวอย่างจากเพลง</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Vocab Card Template -->
                <div class="card-container h-48">
                    <div class="card">
                        <div class="card-face card-front shadow-lg">
                            <h4 class="text-xl font-bold text-teal-700">burning low</h4>
                        </div>
                        <div class="card-face card-back shadow-xl">
                            <p class="font-semibold">(แสงไฟ) ริบหรี่, ใกล้จะมอด</p>
                            <p class="text-sm mt-2 italic">"...need the light when it's burning low"</p>
                        </div>
                    </div>
                </div>
                <div class="card-container h-48">
                    <div class="card">
                        <div class="card-face card-front shadow-lg">
                            <h4 class="text-xl font-bold text-teal-700">dived too deep</h4>
                        </div>
                        <div class="card-face card-back shadow-xl">
                            <p class="font-semibold">ถลำลึกเกินไป</p>
                            <p class="text-sm mt-2 italic">"...you loved her too much and you dived too deep"</p>
                        </div>
                    </div>
                </div>
                <div class="card-container h-48">
                    <div class="card">
                        <div class="card-face card-front shadow-lg">
                            <h4 class="text-xl font-bold text-teal-700">empty feeling</h4>
                        </div>
                        <div class="card-face card-back shadow-xl">
                            <p class="font-semibold">ความรู้สึกว่างเปล่า</p>
                            <p class="text-sm mt-2 italic">"Same old empty feeling in your heart"</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tenses -->
            <h3 class="text-2xl font-semibold text-teal-600 mt-12 mb-4">การใช้ Tenses: บอกเล่าความจริงสากล</h3>
            <div class="space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h4 class="font-bold text-xl text-teal-700">Simple Present Tense</h4>
                    <p class="mt-2 text-gray-700">Tense หลักของเพลง ใช้เพื่อนำเสนอความจริงทั่วไปหรือสัจธรรมที่เป็นอมตะ เปรียบเสมือนการบอกว่า "นี่คือสิ่งที่มันเป็นเสมอมา"</p>
                    <p class="mt-2 text-gray-600 italic">ตัวอย่าง: "you only <span class="font-semibold text-red-600">need</span> the light", "it <span class="font-semibold text-red-600">starts</span> to snow"</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h4 class="font-bold text-xl text-teal-700">Simple Past Tense</h4>
                    <p class="mt-2 text-gray-700">ใช้อ้างถึงการกระทำในอดีตที่เสร็จสิ้นไปแล้ว ซึ่งเป็นสาเหตุของความสูญเสียในปัจจุบัน</p>
                    <p class="mt-2 text-gray-600 italic">ตัวอย่าง: "'Cause you <span class="font-semibold text-red-600">loved</span> her too much and you <span class="font-semibold text-red-600">dived</span> too deep"</p>
                </div>
            </div>

            <!-- Phrasal Verbs -->
            <h3 class="text-2xl font-semibold text-teal-600 mt-12 mb-4">Phrasal Verbs ที่โดดเด่น</h3>
            <div class="space-y-3">
                 <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                    <p><span class="font-bold text-teal-700 text-lg">let go:</span> ปล่อยไป, ยอมปล่อย</p>
                 </div>
                 <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                    <p><span class="font-bold text-teal-700 text-lg">fall asleep:</span> เผลอหลับไป</p>
                 </div>
                 <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                    <p><span class="font-bold text-teal-700 text-lg">feel low:</span> รู้สึกแย่, รู้สึกเศร้า</p>
                 </div>
            </div>
        </section>

        <!-- Section 3: Themes & Emotions -->
        <section id="themes" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-teal-700 mb-6 border-b-2 border-amber-300 pb-2">แก่นเรื่องและอารมณ์</h2>
            <p class="text-lg text-gray-700 mb-8">
                หัวใจของเพลง "Let Her Go" คือการถ่ายทอดความเจ็บปวดจากการตระหนักรู้ที่ล่าช้า Passenger ใช้ภาษาเปรียบเทียบและการสร้างภาพที่ขัดแย้งกันเพื่อเน้นย้ำถึงอารมณ์ความเสียใจได้อย่างทรงพลัง
            </p>
            
            <h3 class="text-2xl font-semibold text-teal-600 mb-4">การใช้ความขัดแย้ง (Juxtaposition)</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-center">
                <div class="bg-white p-6 rounded-lg shadow">
                    <p class="text-2xl">☀️</p>
                    <p class="font-semibold text-lg mt-2">Sun (ดวงอาทิตย์)</p>
                    <p class="text-gray-600">ตัวแทนของความสุข, ความอบอุ่น</p>
                </div>
                <div class="bg-slate-800 text-white p-6 rounded-lg shadow">
                    <p class="text-2xl">❄️</p>
                    <p class="font-semibold text-lg mt-2">Snow (หิมะ)</p>
                    <p class="text-gray-300">ตัวแทนของความหนาวเย็น, ความลำบาก</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow">
                    <p class="text-2xl">😊</p>
                    <p class="font-semibold text-lg mt-2">High (ความสุข)</p>
                    <p class="text-gray-600">ตัวแทนของความรู้สึกดี, มีความสุข</p>
                </div>
                <div class="bg-slate-800 text-white p-6 rounded-lg shadow">
                    <p class="text-2xl">😔</p>
                    <p class="font-semibold text-lg mt-2">Low (ความเศร้า)</p>
                    <p class="text-gray-300">ตัวแทนของความรู้สึกแย่, ตกต่ำ</p>
                </div>
            </div>

            <h3 class="text-2xl font-semibold text-teal-600 mt-12 mb-4">ความหมายเชิงเปรียบเทียบ</h3>
             <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 space-y-4">
                 <p><span class="font-bold text-teal-700">Light (แสงสว่าง):</span> อาจเป็นสัญลักษณ์ของความหวัง, ความรัก, หรือการมีอยู่ของคนรัก</p>
                 <p><span class="font-bold text-teal-700">Road (ถนน):</span> อาจเป็นสัญลักษณ์ของการเดินทางของชีวิต ที่คนเราจะเกลียดมันก็ต่อเมื่อโหยหาความมั่นคงของ "บ้าน"</p>
             </div>
        </section>

        <!-- Section 4: Quiz -->
        <section id="quiz" class="scroll-mt-20">
            <h2 class="text-3xl font-bold text-teal-700 mb-6 border-b-2 border-amber-300 pb-2">ทดสอบความเข้าใจ</h2>
            <p class="text-lg text-gray-700 mb-8">
                มาทดสอบความเข้าใจของคุณเกี่ยวกับเพลง "Let Her Go" กัน หลังจากตอบคำถามครบทุกข้อแล้ว กดปุ่ม "ตรวจคำตอบ" เพื่อดูคะแนนและเฉลย
            </p>

            <div id="quiz-container" class="space-y-10">
                <!-- Part 1: Listening -->
                <div>
                    <h3 class="text-xl font-semibold text-teal-600 mb-4">ส่วนที่ 1: ทดสอบการฟัง (เติมคำในช่องว่าง)</h3>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-2">
                            <label for="q1-1" class="w-full">1. Well you only need the light when it's burning</label>
                            <input type="text" id="q1-1" data-answer="low" class="quiz-input border-b-2 border-gray-300 focus:border-teal-500 outline-none w-24 text-center">.
                        </div>
                        <div class="flex items-center space-x-2">
                             <label for="q1-2" class="w-full">2. Only miss the sun when it starts to</label>
                            <input type="text" id="q1-2" data-answer="snow" class="quiz-input border-b-2 border-gray-300 focus:border-teal-500 outline-none w-24 text-center">.
                        </div>
                         <div class="flex items-center space-x-2">
                            <label for="q1-3" class="w-full">3. Only know you love her when you let her</label>
                            <input type="text" id="q1-3" data-answer="go" class="quiz-input border-b-2 border-gray-300 focus:border-teal-500 outline-none w-24 text-center">.
                        </div>
                         <div class="flex items-center space-x-2">
                            <label for="q1-4" class="w-full">4. Only hate the road when you're</label>
                            <input type="text" id="q1-4" data-answer="missing" class="quiz-input border-b-2 border-gray-300 focus:border-teal-500 outline-none w-24 text-center"> home.
                        </div>
                         <div class="flex items-center space-x-2">
                            <label for="q1-5" class="w-full">5. You see her when you close your</label>
                            <input type="text" id="q1-5" data-answer="eyes" class="quiz-input border-b-2 border-gray-300 focus:border-teal-500 outline-none w-24 text-center">.
                        </div>
                    </div>
                </div>

                <!-- Part 2: Tenses -->
                <div>
                    <h3 class="text-xl font-semibold text-teal-600 mb-4">ส่วนที่ 2: คำถามเกี่ยวกับการใช้ Tenses</h3>
                    <div class="space-y-4 quiz-section" data-quiz-part="tenses">
                        <div class="quiz-question bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                            <p class="font-medium">1. ในประโยค "Only miss the sun when it *starts* to snow," คำกริยา "starts" อยู่ใน Tense ใด?</p>
                            <div class="mt-2 space-y-1">
                                <div><input type="radio" name="q2-1" value="a" id="q2-1a"><label for="q2-1a" class="ml-2">a) Simple Present</label></div>
                                <div><input type="radio" name="q2-1" value="b" id="q2-1b"><label for="q2-1b" class="ml-2">b) Simple Past</label></div>
                                <div><input type="radio" name="q2-1" value="c" id="q2-1c"><label for="q2-1c" class="ml-2">c) Present Continuous</label></div>
                                <div><input type="radio" name="q2-1" value="d" id="q2-1d"><label for="q2-1d" class="ml-2">d) Present Perfect</label></div>
                            </div>
                        </div>
                        <div class="quiz-question bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                            <p class="font-medium">2. ประโยค "'Cause you *loved* her too much and you *dived* too deep" ใช้ Tense ใด?</p>
                            <div class="mt-2 space-y-1">
                                <div><input type="radio" name="q2-2" value="a" id="q2-2a"><label for="q2-2a" class="ml-2">a) Simple Present</label></div>
                                <div><input type="radio" name="q2-2" value="b" id="q2-2b"><label for="q2-2b" class="ml-2">b) Simple Past</label></div>
                                <div><input type="radio" name="q2-2" value="c" id="q2-2c"><label for="q2-2c" class="ml-2">c) Past Continuous</label></div>
                                <div><input type="radio" name="q2-2" value="d" id="q2-2d"><label for="q2-2d" class="ml-2">d) Past Perfect</label></div>
                            </div>
                        </div>
                    </div>
                </div>

                 <!-- Part 3: Meaning -->
                <div>
                    <h3 class="text-xl font-semibold text-teal-600 mb-4">ส่วนที่ 3: คำถามเกี่ยวกับความเข้าใจในความหมาย</h3>
                    <div class="space-y-4 quiz-section" data-quiz-part="meaning">
                        <div class="quiz-question bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                            <p class="font-medium">1. ข้อความหลักของ "Only know you love her when you let her go" คืออะไร?</p>
                             <div class="mt-2 space-y-1">
                                <div><input type="radio" name="q3-1" value="a" id="q3-1a"><label for="q3-1a" class="ml-2">a) ความรักจะแท้จริงก็ต่อเมื่อมีการจากลา</label></div>
                                <div><input type="radio" name="q3-1" value="b" id="q3-1b"><label for="q3-1b" class="ml-2">b) คนเรามักไม่เห็นคุณค่าของสิ่งใดสิ่งหนึ่งจนกว่าจะเสียมันไป</label></div>
                                <div><input type="radio" name="q3-1" value="c" id="q3-1c"><label for="q3-1c" class="ml-2">c) การปล่อยวางเป็นกระบวนการที่ง่ายดาย</label></div>
                                <div><input type="radio" name="q3-1" value="d" id="q3-1d"><label for="q3-1d" class="ml-2">d) ควรปล่อยคนรักไปเสมอเพื่อทดสอบความรัก</label></div>
                            </div>
                        </div>
                         <div class="quiz-question bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                            <p class="font-medium">2. ตามเนื้อเพลง อะไรคือสิ่งที่ "come slow and they go so fast"?</p>
                             <div class="mt-2 space-y-1">
                                <div><input type="radio" name="q3-2" value="a" id="q3-2a"><label for="q3-2a" class="ml-2">a) Money (เงินทอง)</label></div>
                                <div><input type="radio" name="q3-2" value="b" id="q3-2b"><label for="q3-2b" class="ml-2">b) Time (เวลา)</label></div>
                                <div><input type="radio" name="q3-2" value="c" id="q3-2c"><label for="q3-2c" class="ml-2">c) Dreams (ความฝัน)</label></div>
                                <div><input type="radio" name="q3-2" value="d" id="q3-2d"><label for="q3-2d" class="ml-2">d) Friends (เพื่อน)</label></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 4: Phrasal Verbs -->
                <div>
                    <h3 class="text-xl font-semibold text-teal-600 mb-4">ส่วนที่ 4: คำถามเกี่ยวกับ Phrasal Verbs</h3>
                    <div class="space-y-4 quiz-section" data-quiz-part="phrasal">
                        <div class="quiz-question bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                            <p class="font-medium">1. วลี "feeling low" ในเพลงนี้มีความหมายตรงกับข้อใด?</p>
                            <div class="mt-2 space-y-1">
                                <div><input type="radio" name="q4-1" value="a" id="q4-1a"><label for="q4-1a" class="ml-2">a) รู้สึกตัวเตี้ย</label></div>
                                <div><input type="radio" name="q4-1" value="b" id="q4-1b"><label for="q4-1b" class="ml-2">b) รู้สึกหนาว</label></div>
                                <div><input type="radio" name="q4-1" value="c" id="q4-1c"><label for="q4-1c" class="ml-2">c) รู้สึกเศร้าหรือหดหู่</label></div>
                                <div><input type="radio" name="q4-1" value="d" id="q4-1d"><label for="q4-1d" class="ml-2">d) รู้สึกเหนื่อยล้า</label></div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Submit Button and Results -->
                <div class="text-center mt-12">
                    <button id="submit-quiz" class="bg-teal-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-teal-700 transition duration-300 text-lg shadow-md">
                        ตรวจคำตอบ
                    </button>
                    <div id="quiz-results" class="mt-8 text-2xl font-bold hidden"></div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white text-center p-6 mt-16">
        <p>Interactive Analysis by Gemini</p>
        <p class="text-sm text-gray-400 mt-1">Inspired by "Let Her Go" by Passenger</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Card flip interaction
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.addEventListener('click', () => {
                    card.classList.toggle('is-flipped');
                });
            });

            // Quiz logic
            const submitButton = document.getElementById('submit-quiz');
            const resultsContainer = document.getElementById('quiz-results');
            
            const answers = {
                // Listening part is checked separately
                'q2-1': 'a',
                'q2-2': 'b',
                'q3-1': 'b',
                'q3-2': 'c',
                'q4-1': 'c',
            };

            submitButton.addEventListener('click', () => {
                let score = 0;
                let totalQuestions = 0;

                // Check listening/fill-in-the-blank questions
                const textInputs = document.querySelectorAll('.quiz-input');
                textInputs.forEach(input => {
                    totalQuestions++;
                    const userAnswer = input.value.trim().toLowerCase();
                    const correctAnswer = input.dataset.answer.toLowerCase();
                    input.classList.remove('correct-answer', 'incorrect-answer');
                    if (userAnswer === correctAnswer) {
                        score++;
                        input.classList.add('correct-answer');
                    } else {
                        input.classList.add('incorrect-answer');
                    }
                });

                // Check multiple-choice questions
                for (const questionName in answers) {
                    totalQuestions++;
                    const correctAnswer = answers[questionName];
                    const questionElement = document.querySelector(`input[name="${questionName}"]`).closest('.quiz-question');
                    const selectedOption = document.querySelector(`input[name="${questionName}"]:checked`);
                    
                    // Reset styling
                    questionElement.querySelectorAll('label').forEach(label => {
                        label.classList.remove('correct-choice', 'incorrect-choice');
                    });
                    questionElement.classList.remove('correct-answer', 'incorrect-answer');


                    if (selectedOption) {
                        const userAnswer = selectedOption.value;
                        const userLabel = document.querySelector(`label[for="${selectedOption.id}"]`);
                        if (userAnswer === correctAnswer) {
                            score++;
                            questionElement.classList.add('correct-answer');
                            userLabel.classList.add('correct-choice');
                        } else {
                             questionElement.classList.add('incorrect-answer');
                             userLabel.classList.add('incorrect-choice');
                             // also show the correct one
                             const correctLabel = document.querySelector(`label[for="${questionName}${correctAnswer}"]`);
                             if(correctLabel) correctLabel.classList.add('correct-choice');
                        }
                    } else {
                        questionElement.classList.add('incorrect-answer');
                        const correctLabel = document.querySelector(`label[for="${questionName}${correctAnswer}"]`);
                        if(correctLabel) correctLabel.classList.add('correct-choice');
                    }
                }

                resultsContainer.innerHTML = `คุณได้ ${score} จาก ${totalQuestions} คะแนน!`;
                resultsContainer.classList.remove('hidden');
                resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
            });
        });
    </script>
</body>
</html>
